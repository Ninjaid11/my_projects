{% extends 'base.html' %}

{% block title %}Register - GoITeens Shop{% endblock %}

{% block content %}
  <h2>Create a New Account</h2>
  
  <form method="POST" id="register-form">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit" class="btn btn-primary">Register</button>
  </form>

<script>
document.addEventListener('DOMContentLoaded', function () {
  const form = document.getElementById('register-form');

  form.addEventListener('submit', function (e) {
    const username = document.getElementById('id_username');
    const email = document.getElementById('id_email');
    const password1 = document.getElementById('id_password1');
    const password2 = document.getElementById('id_password2');

    if (!username.value || !email.value || !password1.value || !password2.value) {
      alert("Будь ласка, заповніть усі поля.");
      e.preventDefault();
      return;
    }

    if (password1.value !== password2.value) {
      alert("Паролі не співпадають!");
      e.preventDefault();
    }
  });
});
</script>
{% endblock %}